<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- START: inst/pkgdown/templates/head.html --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="last-modified" content="2022-01-21 19:24:48 +0000"><title>Rewrite-R-ecology-lesson: Exploring and understanding data</title><link rel="apple-touch-icon-precomposed" sizes="57x57" href="favicons/cp/apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="favicons/cp/apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="favicons/cp/apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="favicons/cp/apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="favicons/cp/apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicons/cp/apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/cp/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/cp/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="favicons/cp/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="favicons/cp/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="favicons/cp/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="favicons/cp/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="favicons/cp/favicon-128.png" sizes="128x128"><meta name="application-name" content="The Carpentries - Rewrite-R-ecology-lesson"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="favicons/cp/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="favicons/cp/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="favicons/cp/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="favicons/cp/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="favicons/cp/mstile-310x310.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><!--carpentries--><link href="css/syntax.css" rel="stylesheet"><link href="css/lesson.css" rel="stylesheet"><script src="js/lesson.js"></script><meta property="og:title" content="Exploring and understanding data"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- END:   inst/pkgdown/templates/head.html--></head><body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header><!-- START: inst/pkgdown/templates/navbar.html --><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Home</a>
        <a class="external-link navbar-link" href="https://carpentries.github.io/sandpaper-docs/" aria-label="Lesson Infrastructure is in the testing phase. Read on for more information." title="Lesson Infrastructure is in the testing phase.">ðŸš§</a>
        <!-- TODO: the logo is not centered in the nav bar and looks ugly... also there needs to be a better way of choosing the logo... probably on the R side.-->
        <a href="https://carpentries.org" class="external-link pull-left">
          <img class="navbar-logo" src="img/cp-icon-blue.svg" alt="The Carpentries logo"></a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="CODE_OF_CONDUCT.html">Code of Conduct</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Episodes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="00-introduction-r-rstudio.html">Introduction to R and RStudio</a>
    </li>
    <li>
      <a href="01-visualizing-ggplot.html">Data visualization with ggplot2</a>
    </li>
    <li>
      <a href="02-how-r-thinks-about-data.html">Exploring and understanding data</a>
    </li>
    <li>
      <a href="03-working-with-data.html">Working with data</a>
    </li>
    <li>
      <a href="04-putting-it-together.html">Putting it together</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Learners
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="setup.html">Setup</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Instructors
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="instructor-notes.html">FIXME</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learner Profiles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="learner-profiles.html">FIXME</a>
    </li>
  </ul></li>
<li>
  <a href="LICENSE.html">License</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

      <!--START: inst/pkgdown/templates/header.html-->


    <div class="panel panel-default life-cycle">
      <div id="life-cycle" class="panel-body pre-alpha">
         This lesson is still being designed and assembled (Pre-Alpha version) 
        
        
      </div>
    </div>


<!--END  : inst/pkgdown/templates/header.html-->

      </header><!-- START: inst/pkgdown/templates/content-title-body.html --><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Exploring and understanding data</h1>
    </div>

<div class="section level2 objectives">
<h2>Overview</h2>
<div class="row">
<div class="col-md-3">
<p><strong>Teaching: </strong> 45<br><strong>Exercises: </strong> 3</p>
</div>
<div class="col-md-9">
<p><strong>Questions</strong></p>
<ul><li>How does R store and represent data?</li>
</ul></div>
</div>
<div class="row">
<div class="col-md-3">

</div>
<div class="col-md-9">
<p><strong>Objectives</strong></p>
<ul><li>Explore the structure and content of dataframes</li>
<li>Understand vector types and missing data</li>
<li>Use vectors as function arguments</li>
<li>Create and convert factors</li>
<li>Understand how R assigns values to objects</li>
</ul></div>
</div>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a></h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ratdat</span><span class="op">)</span>
<span class="va">surveys</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="fu">left_join</span><span class="op">(</span><span class="va">surveys</span>, <span class="va">species</span><span class="op">)</span>, <span class="va">plots</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.factor</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&lt;</span> <span class="fl">1990</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-data-frame">The data.frame<a class="anchor" aria-label="anchor" href="#the-data-frame"></a></h2>
<p>We just spent quite a bit of time learning how to create visualizations from the <code>surveys</code> data, but we did not talk much about <strong>what</strong> this <code>surveys</code> thing is. Itâ€™s important to understand how R thinks about, represents, and stores data in order for us to have a productive working relationship with R.</p>
<p>The <code>surveys</code> data is stored in R as a <code>data.frame</code>, which is the most common way that R represents tabular data (data that can be stored in a table format). We can check what <code>surveys</code> is by using the <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "data.frame"</code></pre>
<p>We can view the first few rows with the <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> function, and the last few rows with the <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail()</a></code> function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>  record_id month day year plot_id species_id sex hindfoot_length weight
1         1     7  16 1977       2         NL   M              32     NA
2         2     7  16 1977       3         NL   M              33     NA
3         3     7  16 1977       2         DM   F              37     NA
4         4     7  16 1977       7         DM   M              36     NA
5         5     7  16 1977       3         DM   M              35     NA
6         6     7  16 1977       1         PF   M              14     NA
        genus  species   taxa                plot_type
1     Neotoma albigula Rodent                  Control
2     Neotoma albigula Rodent Long-term Krat Exclosure
3   Dipodomys merriami Rodent                  Control
4   Dipodomys merriami Rodent         Rodent Exclosure
5   Dipodomys merriami Rodent Long-term Krat Exclosure
6 Perognathus   flavus Rodent        Spectab exclosure</code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>      record_id month day year plot_id species_id sex hindfoot_length weight
16873     16873    12   5 1989       8         DO   M              37     51
16874     16874    12   5 1989      16         RM   F              18     15
16875     16875    12   5 1989       5         RM   M              17      9
16876     16876    12   5 1989       4         DM   M              37     31
16877     16877    12   5 1989      11         DM   M              37     50
16878     16878    12   5 1989       8         DM   F              37     42
                genus   species   taxa        plot_type
16873       Dipodomys     ordii Rodent          Control
16874 Reithrodontomys megalotis Rodent Rodent Exclosure
16875 Reithrodontomys megalotis Rodent Rodent Exclosure
16876       Dipodomys  merriami Rodent          Control
16877       Dipodomys  merriami Rodent          Control
16878       Dipodomys  merriami Rodent          Control</code></pre>
<p>We used these functions with just one argument, the object <code>surveys</code>, and we didnâ€™t give the argument a name, like we did with <code>ggplot2</code>. In R, a functionâ€™s arguments come in a particular order, and if you put them in the correct order, you donâ€™t need to name them. In this case, the name of the argument is <code>x</code>, so we can name it if we want, but since we know itâ€™s the first argument, we donâ€™t need to.</p>
<p>To learn more about a function, you can type a <code>?</code> in front of the name of the function, which will bring up the official documentation for that function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span><span class="va">head</span></code></pre></div>
<p>Some arguments are optional. For example, the <code>n</code> argument in <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> specifies the number of rows to print. It defaults to 6, but we can override that by specifying a different number:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">surveys</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>  record_id month day year plot_id species_id sex hindfoot_length weight
1         1     7  16 1977       2         NL   M              32     NA
2         2     7  16 1977       3         NL   M              33     NA
3         3     7  16 1977       2         DM   F              37     NA
4         4     7  16 1977       7         DM   M              36     NA
5         5     7  16 1977       3         DM   M              35     NA
6         6     7  16 1977       1         PF   M              14     NA
7         7     7  16 1977       2         PE   F              NA     NA
        genus  species   taxa                plot_type
1     Neotoma albigula Rodent                  Control
2     Neotoma albigula Rodent Long-term Krat Exclosure
3   Dipodomys merriami Rodent                  Control
4   Dipodomys merriami Rodent         Rodent Exclosure
5   Dipodomys merriami Rodent Long-term Krat Exclosure
6 Perognathus   flavus Rodent        Spectab exclosure
7  Peromyscus eremicus Rodent                  Control
 [ reached 'max' / getOption("max.print") -- omitted 3 rows ]</code></pre>
<p>If we order them correctly, we donâ€™t have to name either:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">surveys</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>  record_id month day year plot_id species_id sex hindfoot_length weight
1         1     7  16 1977       2         NL   M              32     NA
2         2     7  16 1977       3         NL   M              33     NA
3         3     7  16 1977       2         DM   F              37     NA
4         4     7  16 1977       7         DM   M              36     NA
5         5     7  16 1977       3         DM   M              35     NA
6         6     7  16 1977       1         PF   M              14     NA
7         7     7  16 1977       2         PE   F              NA     NA
        genus  species   taxa                plot_type
1     Neotoma albigula Rodent                  Control
2     Neotoma albigula Rodent Long-term Krat Exclosure
3   Dipodomys merriami Rodent                  Control
4   Dipodomys merriami Rodent         Rodent Exclosure
5   Dipodomys merriami Rodent Long-term Krat Exclosure
6 Perognathus   flavus Rodent        Spectab exclosure
7  Peromyscus eremicus Rodent                  Control
 [ reached 'max' / getOption("max.print") -- omitted 3 rows ]</code></pre>
<p>Additionally, if we name them, we can put them in any order we want:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, x <span class="op">=</span> <span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>  record_id month day year plot_id species_id sex hindfoot_length weight
1         1     7  16 1977       2         NL   M              32     NA
2         2     7  16 1977       3         NL   M              33     NA
3         3     7  16 1977       2         DM   F              37     NA
4         4     7  16 1977       7         DM   M              36     NA
5         5     7  16 1977       3         DM   M              35     NA
6         6     7  16 1977       1         PF   M              14     NA
7         7     7  16 1977       2         PE   F              NA     NA
        genus  species   taxa                plot_type
1     Neotoma albigula Rodent                  Control
2     Neotoma albigula Rodent Long-term Krat Exclosure
3   Dipodomys merriami Rodent                  Control
4   Dipodomys merriami Rodent         Rodent Exclosure
5   Dipodomys merriami Rodent Long-term Krat Exclosure
6 Perognathus   flavus Rodent        Spectab exclosure
7  Peromyscus eremicus Rodent                  Control
 [ reached 'max' / getOption("max.print") -- omitted 3 rows ]</code></pre>
<p>Generally, itâ€™s good practice to start with the required arguments, like the dataframe whose rows you want to see, and then to name the optional arguments. If you are ever unsure, it never hurts to explicitly name an argument.</p>
<p>Letâ€™s get back to investigating our <code>surveys</code> dataframe. We can get some useful summaries of each variable using the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>   record_id         month             day            year         plot_id     
 Min.   :    1   Min.   : 1.000   Min.   : 1.0   Min.   :1977   Min.   : 1.00  
 1st Qu.: 4220   1st Qu.: 3.000   1st Qu.: 9.0   1st Qu.:1981   1st Qu.: 5.00  
 Median : 8440   Median : 6.000   Median :15.0   Median :1983   Median :11.00  
 Mean   : 8440   Mean   : 6.382   Mean   :15.6   Mean   :1984   Mean   :11.47  
 3rd Qu.:12659   3rd Qu.: 9.000   3rd Qu.:23.0   3rd Qu.:1987   3rd Qu.:17.00  
 Max.   :16878   Max.   :12.000   Max.   :31.0   Max.   :1989   Max.   :24.00  
                                                                               
  species_id            sex            hindfoot_length     weight      
 Length:16878       Length:16878       Min.   : 6.00   Min.   :  4.00  
 Class :character   Class :character   1st Qu.:21.00   1st Qu.: 24.00  
 Mode  :character   Mode  :character   Median :35.00   Median : 42.00  
                                       Mean   :31.98   Mean   : 53.22  
                                       3rd Qu.:37.00   3rd Qu.: 53.00  
                                       Max.   :70.00   Max.   :278.00  
                                       NA's   :2733    NA's   :1692    
    genus             species              taxa            plot_type        
 Length:16878       Length:16878       Length:16878       Length:16878      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            </code></pre>
<p>And, as we have already done, we can use <code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code> to look at the structure of an object:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>'data.frame':   16878 obs. of  13 variables:
 $ record_id      : int  1 2 3 4 5 6 7 8 9 10 ...
 $ month          : int  7 7 7 7 7 7 7 7 7 7 ...
 $ day            : int  16 16 16 16 16 16 16 16 16 16 ...
 $ year           : int  1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 ...
 $ plot_id        : int  2 3 2 7 3 1 2 1 1 6 ...
 $ species_id     : chr  "NL" "NL" "DM" "DM" ...
 $ sex            : chr  "M" "M" "F" "M" ...
 $ hindfoot_length: int  32 33 37 36 35 14 NA 37 34 20 ...
 $ weight         : int  NA NA NA NA NA NA NA NA NA NA ...
 $ genus          : chr  "Neotoma" "Neotoma" "Dipodomys" "Dipodomys" ...
 $ species        : chr  "albigula" "albigula" "merriami" "merriami" ...
 $ taxa           : chr  "Rodent" "Rodent" "Rodent" "Rodent" ...
 $ plot_type      : chr  "Control" "Long-term Krat Exclosure" "Control" "Rodent Exclosure" ...</code></pre>
<p>We get quite a bit of useful information here. First, we are told that we have a <code>data.frame</code> of 16878 observations, or rows, and 13 variables, or columns.</p>
<p>Next, we get a bit of information on each variable, including its type (<code>int</code> or <code>chr</code>) and a quick peek at the first 10 values. You might ask why there is a <code>$</code> in front of each variable. This is because the <code>$</code> is an operator that allows us to select individual columns from a dataframe.</p>
<p>The <code>$</code> operator also allows you to use tab-completion to quickly select which variable you want from a given dataframe. For example, to get the <code>year</code> variable, we can type <code>surveys$</code> and then hit <kbd>Tab</kbd>. We get a list of the variables that we can move through with up and down arrows. Hit <kbd>Enter</kbd> when you reach <code>year</code>, which should finish this code:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">surveys</span><span class="op">$</span><span class="va">year</span></code></pre></div>
<pre class="output"><code>  [1] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [16] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [31] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [46] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [61] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [76] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [91] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977
 [ reached getOption("max.print") -- omitted 16778 entries ]</code></pre>
<p>What we get back is a whole bunch of numbers, the entries in the <code>year</code> column printed out in order.</p>
</div>
<div class="section level2">
<h2 id="vectors-the-building-block-of-data">Vectors: the building block of data<a class="anchor" aria-label="anchor" href="#vectors-the-building-block-of-data"></a></h2>
<p>You might have noticed that our last result looked different from when we printed out the <code>surveys</code> dataframe itself. Thatâ€™s because it is not a dataframe, it is a <strong>vector</strong>. A vector is a 1-dimensional series of values, in this case a vector of numbers representing years.</p>
<p>Dataframes are made up of vectors; each column in a dataframe is a vector. Vectors are the basic building blocks of all data in R. Basically, everything in R is a vector, a bunch of vectors stitched together in some way, or a function. Understanding how vectors work is crucial to understanding how R treats data, so we will spend some time learning about them.</p>
<p>There are 4 main types of vectors (also known as <em>atomic vectors</em>):</p>
<ol style="list-style-type: decimal"><li><p><code>"character"</code> for strings of characters, like our <code>genus</code> or <code>sex</code> columns. Each entry in a character vector is wrapped in quotes.</p></li>
<li><p><code>"integer"</code> for integers. All the numeric values in <code>surveys</code> are integers. You may sometimes see integers represented like <code>2L</code> or <code>20L</code>. The <code>L</code> indicates to R that it is an integer, instead of the next data type, <code>"numeric"</code>.</p></li>
<li><p><code>"numeric"</code>, aka <code>"double"</code>, vectors can contain numbers including decimals.</p></li>
<li><p><code>"logical"</code> for <code>TRUE</code> and <code>FALSE</code>, which can also be represented as <code>T</code> and <code>F</code>.</p></li>
</ol><p>Vectors can only be of a <strong>single type</strong>. Since each column in a dataframe is a vector, this means an accidental character following a number, like <code>29,</code> can change the type of the whole vector. Mixing up vector types is one of the most common mistakes in R, and it can be tricky to figure out. Itâ€™s often very useful to check the types of vectors.</p>
<p>To create a vector from scratch, we can use the <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function, putting values inside, separated by commas.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">12</span>, <span class="fl">4</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1]  1  2  5 12  4</code></pre>
<p>As you can see, those values get printed out in the console, just like with <code>surveys$year</code>. To store this vector so we can continue to work with it, we need to assign it to an object.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">12</span>, <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p>You can check what kind of object <code>num</code> is with the <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> function.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "numeric"</code></pre>
<p>We see that <code>num</code> is a <code>numeric</code> vector.</p>
<p>Letâ€™s try making a character vector:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"pear"</span>, <span class="st">"grape"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">char</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "character"</code></pre>
<p>Remember that each entry, like <code>"apple"</code>, needs to be surrounded by quotes, and entries are separated with commas. If you do something like <code>"apple, pear, grape"</code>, you will have only a single entry containing that whole string.</p>
<p>Finally, letâ€™s make a logical vector:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">logi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">logi</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "logical"</code></pre>
</div>
<div class="challenge">
<div class="section level2">
<h2 id="challenge-1-coercion">Challenge 1: Coercion<a class="anchor" aria-label="anchor" href="#challenge-1-coercion"></a></h2>
<ol style="list-style-type: decimal"><li>What type will each of these vectors be? Try to guess without running any code, but you can use <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> to verify your answers.</li>
</ol><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_logi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">num_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="st">"10"</span>, <span class="fl">6</span><span class="op">)</span>
<span class="va">char_logi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="cn">TRUE</span><span class="op">)</span>


<span class="va">tricky</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"1"</span>, <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2 solution">
<h2>Solution</h2>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">num_logi</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "numeric"</code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">num_char</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "character"</code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">char_logi</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "character"</code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">tricky</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "character"</code></pre>
<p>R will automatically convert values in a vector so that they are all the same type, a process called <strong>coercion</strong>.</p>
</div>
<ol start="2" style="list-style-type: decimal"><li>How many values in <code>combined_logical</code> are <code>"TRUE"</code> (as a character)?</li>
</ol><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">combined_logical</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">num_logi</span>, <span class="va">char_logi</span><span class="op">)</span></code></pre></div>
<div class="section level2 solution">
<h2>Solution</h2>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">combined_logical</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "character"</code></pre>
<p>Only one value is <code>"TRUE"</code>. Coercion happens when each vector is created, so the <code>TRUE</code> in <code>num_logi</code> becomes a <code>1</code>, while the <code>TRUE</code> in <code>char_logi</code> becomes <code>"TRUE"</code>. When these two vectors are combined, R doesnâ€™t remember that the <code>1</code> in <code>num_logi</code> used to be a <code>TRUE</code>, it will just coerce the <code>1</code> to <code>"1"</code>.</p>
</div>
<ol start="3" style="list-style-type: decimal"><li>Now that youâ€™ve seen a few examples of coercion, you might have started to see that there are some rules about what types get converted. There is a hierarchy to coercion. Can you draw a diagram that represents the hierarchy of what types get converted to other types?</li>
</ol><div class="section level2 solution">
<h2>Solution</h2>
<p>logical â†’ integer â†’ numeric â†’ character</p>
<p>Logical vectors can only take on two values: <code>TRUE</code> or <code>FALSE</code>. Integer vectors can only contain integers, so <code>TRUE</code> and <code>FALSE</code> can be coerced to <code>1</code> and <code>0</code>. Numeric vectors can contain numbers with decimals, so integers can be coerced from, say, <code>6</code> to <code>6.0</code> (though R will still display a numeric <code>6</code> as <code>6</code>.). Finally, any string of characters can be represented as a character vector, so any of the other types can be coerced to a character vector.</p>
</div>
</div>
<p>Coercion is not something you will often do intentionally; rather, when combining vectors or reading data into R, a stray character that you missed may change an entire numeric vector into a character vector. It is a good idea to check the <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> of your results frequently, particularly if you are running into confusing error messages.</p>
<div class="section level2">
<h2 id="missing-data">Missing data<a class="anchor" aria-label="anchor" href="#missing-data"></a></h2>
<p>One of the great things about R is how it handles missing data, which can be tricky in other programming languages. R represents missing data as <code>NA</code>, without quotes, in vectors of any type. Letâ€™s make a numeric vector with an <code>NA</code> value:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">34</span>, <span class="fl">12</span>, <span class="cn">NA</span>, <span class="fl">42</span><span class="op">)</span></code></pre></div>
<p>R doesnâ€™t make assumptions about how you want to handle missing data, so if we pass this vector to a numeric function like <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min()</a></code>, it wonâ€™t know what to do, so it returns <code>NA</code>:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">weights</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] NA</code></pre>
<p>This is a very good thing, since we wonâ€™t accidentally forget to consider our missing data. If we decide to exclude our missing values, many functions have an argument to <strong>r</strong>e<strong>m</strong>ove them:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">weights</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] 12</code></pre>
</div>
<div class="section level2">
<h2 id="vectors-as-arguments">Vectors as arguments<a class="anchor" aria-label="anchor" href="#vectors-as-arguments"></a></h2>
<p>A common reason to create a vector from scratch is to use in a function argument. The <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile()</a></code> function will calculate a quantile for a given vector of numeric values. We set the quantile using the <code>probs</code> argument. We also need to set <code>na.rm = TRUE</code>, since there are <code>NA</code> values in the <code>weight</code> column, and R doesnâ€™t know how to calculate a quantile if there are <code>NA</code>s. This is a common argument for lots of numeric functions.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">$</span><span class="va">weight</span>, probs <span class="op">=</span> <span class="fl">0.25</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>25% 
 24 </code></pre>
<p>Now we get back the 25% quantile value for weights. However, we often want to know more than one quantile. Luckily, the <code>probs</code> argument is <strong>vectorized</strong>, meaning it can take a whole vector of values. Letâ€™s try getting the 25%, 50% (median), and 75% quantiles all at once.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">$</span><span class="va">weight</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>25% 50% 75% 
 24  42  53 </code></pre>
<p>While the <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function is very flexible, it doesnâ€™t necessarily scale well. If you want to generate a long vector from scratch, you probably donâ€™t want to type everything out manually. There are a few functions that can help generate vectors.</p>
<p>First, putting <code>:</code> between two numbers will generate a vector of integers starting with the first number and ending with the last. The <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> function allows you to generate similar sequences, but changing by any amount.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># generates a sequence of integers</span>
<span class="fl">1</span><span class="op">:</span><span class="fl">10</span></code></pre></div>
<pre class="output"><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># with seq() you can generate sequences with a combination of:</span>
<span class="co"># from: starting value</span>
<span class="co"># to: ending value</span>
<span class="co"># by: how much should each entry increase</span>
<span class="co"># length.out: how long should the resulting vector be</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0</code></pre>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] 0.00000000 0.02040816 0.04081633 0.06122449 0.08163265 0.10204082
 [7] 0.12244898 0.14285714 0.16326531 0.18367347 0.20408163 0.22448980
[13] 0.24489796 0.26530612 0.28571429 0.30612245 0.32653061 0.34693878
[19] 0.36734694 0.38775510 0.40816327 0.42857143 0.44897959 0.46938776
[25] 0.48979592 0.51020408 0.53061224 0.55102041 0.57142857 0.59183673
[31] 0.61224490 0.63265306 0.65306122 0.67346939 0.69387755 0.71428571
[37] 0.73469388 0.75510204 0.77551020 0.79591837 0.81632653 0.83673469
[43] 0.85714286 0.87755102 0.89795918 0.91836735 0.93877551 0.95918367
[49] 0.97959184 1.00000000</code></pre>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, by <span class="op">=</span> <span class="fl">0.01</span>, length.out <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08 0.09 0.10 0.11 0.12 0.13 0.14
[16] 0.15 0.16 0.17 0.18 0.19</code></pre>
<p>Finally, the <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code> function allows you to repeat a value, or even a whole vector, as many times as you want, and works with any type of vector.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># repeats "a" 12 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"a"</span>, times <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] "a" "a" "a" "a" "a" "a" "a" "a" "a" "a" "a" "a"</code></pre>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># repeats this whole sequence 4 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] "a" "b" "c" "a" "b" "c" "a" "b" "c" "a" "b" "c"</code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># repeats each value 4 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1]  1  1  1  1  2  2  2  2  3  3  3  3  4  4  4  4  5  5  5  5  6  6  6  6  7
[26]  7  7  7  8  8  8  8  9  9  9  9 10 10 10 10</code></pre>
</div>
<div class="challenge">
<div class="section level2">
<h2 id="challenge-2-creating-sequences">Challenge 2: Creating sequences<a class="anchor" aria-label="anchor" href="#challenge-2-creating-sequences"></a></h2>
<ol style="list-style-type: decimal"><li>Write some code to generate the following vector:</li>
</ol><pre class="output"><code> [1] -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3</code></pre>
</div>
<div class="section level2 solution">
<h2>Solution</h2>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3</code></pre>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># this also works</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="op">-</span><span class="fl">3</span>, to <span class="op">=</span> <span class="fl">3</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3</code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># you might also store the sequence as an intermediate vector</span>

<span class="va">my_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="op">-</span><span class="fl">3</span>, to <span class="op">=</span> <span class="fl">3</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">my_seq</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre class="output"><code> [1] -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3 -3 -2 -1  0  1  2  3</code></pre>
</div>
<ol start="2" style="list-style-type: decimal"><li>Calculate the quantiles for the <code>surveys</code> hindfoot lengths at every 5% level (0%, 5%, 10%, 15%, etc.)</li>
</ol><div class="section level2 solution">
<h2>Solution</h2>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">$</span><span class="va">hindfoot_length</span>, 
         probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>,
         na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>  0%   5%  10%  15%  20%  25%  30%  35%  40%  45%  50%  55%  60%  65%  70%  75% 
   6   16   17   19   20   21   22   31   33   34   35   35   36   36   36   37 
 80%  85%  90%  95% 100% 
  37   39   49   51   70 </code></pre>
</div>
</div>
<div class="section level2">
<h2 id="building-with-vectors">Building with vectors<a class="anchor" aria-label="anchor" href="#building-with-vectors"></a></h2>
<p>We have now seen vectors in a few different forms: as columns in a dataframe and as single vectors. However, they can be manipulated into lots of other shapes and forms. Some other common forms are:</p>
<ul><li>matrices
<ul><li>2-dimensional numeric representations</li>
</ul></li>
<li>arrays
<ul><li>many-dimensional numeric</li>
</ul></li>
<li>lists
<ul><li>lists are very flexible ways to store vectors</li>
<li>a list can contain vectors of many different types and lengths</li>
<li>an entry in a list can be another list, so lists can get deeply nested</li>
<li>a dataframe is just a list where each vector has to be the same length (dataframes are rectangular)</li>
</ul></li>
<li>factors
<ul><li>a way to represent categorical data</li>
<li>factors can be ordered or unordered</li>
<li>they often <em>look</em> like character vectors, but behave differently</li>
<li>under the hood, they are integers with character labels, called <strong>levels</strong>, for each integer</li>
</ul></li>
</ul><div class="section level3">
<h3 id="factors">Factors<a class="anchor" aria-label="anchor" href="#factors"></a></h3>
<p>We will spend a bit more time talking about factors, since they are often a challenging type of data to work with. We can create a factor from scratch by putting a character vector made using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> into the <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code> function:</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>

<span class="va">sex</span></code></pre></div>
<pre class="output"><code>[1] male   female female male   female &lt;NA&gt;  
Levels: female male</code></pre>
<p>We can inspect the levels of the factor using the <code><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels()</a></code> function:</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "female" "male"  </code></pre>
<p>The <strong><code>forcats</code></strong> package from the <code>tidyverse</code> has a lot of convenient functions for working with factors. We will show you a few common operations, but the <code>forcats</code> package has many more useful functions.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org" class="external-link">forcats</a></span><span class="op">)</span>

<span class="co"># change the order of the levels</span>
<span class="fu">fct_relevel</span><span class="op">(</span><span class="va">sex</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] male   female female male   female &lt;NA&gt;  
Levels: male female</code></pre>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># change the names of the levels</span>
<span class="fu">fct_recode</span><span class="op">(</span><span class="va">sex</span>, <span class="st">"M"</span> <span class="op">=</span> <span class="st">"male"</span>, <span class="st">"F"</span> <span class="op">=</span> <span class="st">"female"</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] M    F    F    M    F    &lt;NA&gt;
Levels: F M</code></pre>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># turn NAs into explicit missing values (useful for including NAs in plots)</span>
<span class="fu">fct_explicit_na</span><span class="op">(</span><span class="va">sex</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] male      female    female    male      female    (Missing)
Levels: female male (Missing)</code></pre>
<p>In general, it is a good practice to leave your categorical data as a <strong>character</strong> vector until you need to use a factor. Here are some reasons you might need a factor:</p>
<ol style="list-style-type: decimal"><li>Another function requires you to use a factor</li>
<li>You are plotting categorical data and want to control the ordering of categories in the plot</li>
</ol><p>Since factors can behave differently from character vectors, it is always a good idea to check what type of data youâ€™re working with. You might use a new function for the first time and be confused by the results, only to realize later that it produced a factor as an output, when you thought it was a character vector.</p>
<p>It is fairly straightforward to convert a factor to a character vector:</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] "male"   "female" "female" "male"   "female" NA      </code></pre>
<p>However, you need to be careful if youâ€™re somehow working with a factor that has numbers as its levels:</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f_num</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>, <span class="fl">1983</span>, <span class="fl">1977</span>, <span class="fl">1998</span>, <span class="fl">1990</span><span class="op">)</span><span class="op">)</span>

<span class="co"># this will pull out the underlying integers, not the levels</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">f_num</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] 3 2 1 4 3</code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># if we first convert to characters, we can then convert to numbers</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">f_num</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] 1990 1983 1977 1998 1990</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="assignment-objects-and-values">Assignment, objects, and values<a class="anchor" aria-label="anchor" href="#assignment-objects-and-values"></a></h2>
<p>Weâ€™ve already created quite a few objects in R using the <code>&lt;-</code> assignment arrow, but there are a few finer details worth talking about. First, letâ€™s start with a quick challenge.</p>
</div>
<div class="challenge">
<div class="section level2">
<h2 id="challenge-3-assignments-and-objects">Challenge 3: Assignments and objects<a class="anchor" aria-label="anchor" href="#challenge-3-assignments-and-objects"></a></h2>
<p>What is the value of <code>y</code> after running the following code?</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">10</span></code></pre></div>
</div>
<div class="section level2 solution">
<h2>Solution</h2>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">y</span></code></pre></div>
<pre class="output"><code>[1] 5</code></pre>
</div>
</div>
<p>Understanding whatâ€™s going on here will help you avoid a lot of confusion when working in R. When we assign something to an object, the first thing that happens is the righthand side gets <em>evaluated</em>. The same thing happens when you run something in the console: if you type <code>x</code> into the console and hit <kbd>Enter</kbd>, R returns the value of <code>x</code>. So when we first ran the line <code>y &lt;- x</code>, <code>x</code> first gets evaluated to the value of <code>5</code>, and this gets assigned to <code>y</code>. The objects <code>x</code> and <code>y</code> are not actually linked to each other in any way, so when we change the value of <code>x</code> to <code>10</code>, <code>y</code> is unaffected.</p>
<p>This also means you can run multiple nested operations, store intermediate values as separate objects, or overwrite values:</p>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span>

<span class="co"># first, x gets evaluated to 5</span>
<span class="co"># then 5/2 gets evaluated to 2.5</span>
<span class="co"># then sqrt(2.5) is evaluated</span>
<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] 1.581139</code></pre>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># we can also store the evaluated value of x/2 </span>
<span class="co"># in an object y before passing it to sqrt()</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">/</span><span class="fl">2</span>

<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></code></pre></div>
<pre class="output"><code>[1] 1.581139</code></pre>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first, the x on the righthand side gets evaluated to 5</span>
<span class="co"># then 5 gets squared</span>
<span class="co"># then the resulting value is assigned to the object x</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span>

<span class="va">x</span></code></pre></div>
<pre class="output"><code>[1] 25</code></pre>
<p>You will be naming a of objects in R, and there are a few common naming rules and conventions:</p>
<ul><li>make names clear without being too long
<ul><li><code>wkg</code> is probably too short</li>
<li><code>weight_in_kilograms</code> is probably too long</li>
<li><code>weight_kg</code> is great</li>
</ul></li>
<li>names cannot start with a number</li>
<li>names are case sensitive</li>
<li>you cannot use the names of fundamental functions in R, like <code>if</code>, <code>else</code>, or <code>for</code>
<ul><li>in general, avoid using names of common functions like <code>c</code>, <code>mean</code>, etc.</li>
</ul></li>
<li>avoid dots <code>.</code> in names, as they have a special meaning in R, and may be confusing to others</li>
<li>two common formats are <code>snake_case</code> and <code>camelCase</code></li>
<li>be consistent, at least within a script, ideally within a whole project</li>
<li>you can use a style guide like <a href="https://google.github.io/styleguide/Rguide.xml" class="external-link">Googleâ€™s</a> or <a href="http://style.tidyverse.org/" class="external-link">tidyverseâ€™s</a></li>
</ul><div class="section level2 keypoints">
<h2>Keypoints</h2>
<ul><li>functions like <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code>, <code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code>, and <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> are useful for exploring dataframes</li>
<li>most things in R are vectors, vectors stitched together, or functions</li>
<li>make sure to use <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> to check vector types, especially when using new functions</li>
<li>factors can be useful, but behave differently from character vectors</li>
</ul></div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


<!-- END:   inst/pkgdown/templates/content-title-body.html-->


      <footer><!-- START: inst/pkgdown/templates/footer.html --><div class="container">
  <div class="row">
    <div class="col-xs-1">
      <h3 class="text-left">
        <a href="01-visualizing-ggplot.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      </h3>
    </div>
    <div class="col-xs-10">
      <h3 class="maintitle"><a href="index.html">Rewrite-R-ecology-lesson</a></h3>
    </div>
    <div class="col-xs-1">
      <h3 class="text-right">
        <a href="03-working-with-data.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      </h3>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> 2018â€“2022
      by <a href="https://carpentries.org" class="external-link">The Carpentries</a>
      <br>
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> 2016â€“2018
      by <a href="https://softwarecarpentry.org" class="external-link">Software Carpentry Foundation</a>
    </div>
    <div class="col-md-6 help-links pull-right" align="right">
      <a href="https://github.com/MCMaurer/Rewrite-R-ecology-lesson/edit/main/episodes/02-how-r-thinks-about-data.Rmd" data-checker-ignore class="external-link">Edit on GitHub</a>
      /
      <a href="https://github.com/MCMaurer/Rewrite-R-ecology-lesson/blob/main/CONTRIBUTING.md" data-checker-ignore class="external-link">Contributing</a>
      /
      <a href="https://github.com/MCMaurer/Rewrite-R-ecology-lesson/" class="external-link">Source</a>
      /
      <a href="https://github.com/MCMaurer/Rewrite-R-ecology-lesson/blob/main/CITATION" data-checker-ignore class="external-link">Cite</a>
      /
      <a href="mailto:team@carpentries.org">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Built with <a href="https://github.com/carpentries/sandpaper" class="external-link">sandpaper (0.0.0.9075)</a>,
      <a href="https://github.com/carpentries/pegboard" class="external-link">pegboard (0.0.0.9034)</a>,
      and <a href="https://github.com/carpentries/varnish" class="external-link">varnish (0.0.0.9008)</a>.
    </div>
  </div>
</div>
<!-- END:   inst/pkgdown/templates/footer.html-->

      </footer></div>

  <!-- START: inst/pkgdown/templates/docsearch.html -->

<!-- END:   inst/pkgdown/templates/docsearch.html-->


  </body></html><!-- END:   inst/pkgdown/templates/layout.html-->

